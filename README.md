# Диалоговая система для подкаста
Сюрреалистичное, бесконечное, ностальгирующее ретро-радио о великой философии и сырках по средам.

## Описание

Flask-приложение для генерации реалистичных диалогов между персонажами в формате подкаста. Использует YandexGPT для генерации текста и Yandex SpeechKit для синтеза речи.

## Основные функции

- Создание диалогов между персонажами с уникальными характеристиками
- Плавное изменение темы разговора по запросу клиента
- Генерация аудиоверсий реплик
- Простое REST API для управления диалогом

## Быстрый старт

1. Установите зависимости из `requirements.txt`
2. Создайте файл `.env` с credentials для Yandex Cloud API
3. Запустите приложение командой `flask run`

## Доступные персонажи

| Персонаж   | Описание                | Голос  |
|------------|-------------------------|--------|
| Диоген     | Древнегреческий философ | ermil |
| Строитель  | Современный человек     | zahar  |

## API Endpoints

- `POST /signal` - начать/завершить диалог (передать type: start или stop)
- `GET /get_audio` - получить следующую аудио-реплику
- `POST /inject` - сменить тему диалога

## Требования

- Python 3.11+
- Аккаунт в Yandex Cloud с доступом к SpeechKit и YandexGPT
- Файл .env с credentials

## Запуск
- Установите зависимости:
  ```pip install -r requirements.txt```
- Запустите Flask-приложение:
  ```python3 backend.py```
- Используйте API endpoints для управления диалогом или зайдите на ```localhost:5000``` с браузера, чтобы управлять с GUI

## Особенности
- Поддерживается буферизация аудио (до MAX_AUDIO_BUFFER реплик)
- История диалога сохраняется для контекста
- Подкаст-стиль общения между персонажами
